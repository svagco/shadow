{"version":3,"sources":["../src/index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["import { makeElement, rect } from '@svag/lib'\nimport { getFilterDimensions } from './lib'\n\n/**\n * Generate a blur filter for a window. Returns a shadow element as a string, as well as the `translate` property to apply to the window element as the `transform` attribute.\n * @param {ShadowOptions} options Options to generate macOS like  shadow using a blur filter.\n * @param {number} options.width The width of the window.\n * @param {number} options.height The height of the window.\n * @param {number} [options.rx=6] The `x` corner radius of a window which drops the shadow. Default `6`.\n * @param {number} [options.ry=6] The `y` corner radius of a window which drops the shadow. Default `6`.\n * @param {number} [options.offsetY=25] The offset from the top of the window. Default `25`.\n * @param {number} [options.stdDeviation=27.5] The standard deviation for the blur. It will spread twice this distance in each direction. Default `27.5`.\n */\nconst Shadow = (options) => {\n  if (!options) throw new Error('Options must be given.')\n  const {\n    width,\n    height,\n    rx = 6,\n    ry = 6,\n    offsetY = 25,\n    stdDeviation = 27.5,\n  } = options\n  if (!width) throw new Error('The width must be given.')\n  if (!height) throw new Error('The height must be given.')\n  const dims = getFilterDimensions(width, height, stdDeviation * 2, offsetY)\n  const filter = makeElement('filter', {\n    attributes: {\n      ...dims,\n      id: 'shadow',\n    },\n    content: [\n      makeElement('feOffset', {\n        attributes: {\n          dy: offsetY,\n          in: 'SourceAlpha',\n          result: 'o',\n        },\n      }),\n      makeElement('feGaussianBlur', {\n        attributes: {\n          stdDeviation,\n          in: 'o',\n          result: 'b',\n        },\n      }),\n      makeElement('feColorMatrix', {\n        attributes: {\n          values: '0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0',\n          in: 'b',\n        },\n      }),\n    ],\n  })\n  const defs = makeElement('defs', {\n    content: filter,\n  })\n  const body = rect({\n    height,\n    width,\n    rx,\n    ry,\n    fill: 'white',\n  })\n  const translateX = stdDeviation * 2\n  const translateY = offsetY\n  const translate = `translate(${translateX}, ${translateY})`\n  const shadow = makeElement('g', {\n    attributes: {\n      transform: translate,\n      filter: 'url(#shadow)',\n    },\n    content: [\n      defs,\n      body,\n    ],\n  })\n  return { translate, shadow, translateX, translateY }\n}\n\n/* documentary types/index.xml */\n/**\n * @typedef {Object} ShadowOptions Options to generate macOS like  shadow using a blur filter.\n * @prop {number} width The width of the window.\n * @prop {number} height The height of the window.\n * @prop {number} [rx=6] The `x` corner radius of a window which drops the shadow. Default `6`.\n * @prop {number} [ry=6] The `y` corner radius of a window which drops the shadow. Default `6`.\n * @prop {number} [offsetY=25] The offset from the top of the window. Default `25`.\n * @prop {number} [stdDeviation=27.5] The standard deviation for the blur. It will spread twice this distance in each direction. Default `27.5`.\n */\n\nexport default Shadow"]}